<mxfile>   <diagram id="0" name="RAG Document Processing Flow">     <mxGraphModel dx="1200" dy="600">       <root>         <!-- 节点定义 -->         <mxCell id="0"/>         <mxCell id="1" parent="0"/>          <!-- 文档读取 -->         <mxCell id="step1" value="1. 文档读取" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">           <mxGeometry x="100" y="60" width="160" height="60" as="geometry"/>         </mxCell>         <mxCell id="step1_sub1" value="支持格式: PDF/Word/HTML/文本" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=30;" vertex="1" parent="1">           <mxGeometry x="40" y="140" width="280" height="40" as="geometry"/>         </mxCell>         <mxCell id="step1_sub2" value="编码检测与解析" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=30;" vertex="1" parent="1">           <mxGeometry x="40" y="200" width="280" height="40" as="geometry"/>         </mxCell>          <!-- 预处理 -->         <mxCell id="step2" value="2. 预处理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">           <mxGeometry x="100" y="300" width="160" height="60" as="geometry"/>         </mxCell>         <mxCell id="step2_sub1" value="去除噪声(HTML标签/特殊字符)" style="shape=note;whiteSpace=wrap;html=1;" vertex="1" parent="1">           <mxGeometry x="40" y="380" width="280" height="40" as="geometry"/>         </mxCell>          <!-- 文档分割 -->         <mxCell id="step3" value="3. 文档分割" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">           <mxGeometry x="100" y="480" width="160" height="60" as="geometry"/>         </mxCell>         <mxCell id="step3_sub1" value="固定块大小(如512 tokens)" style="shape=note;whiteSpace=wrap;html=1;" vertex="1" parent="1">           <mxGeometry x="300" y="480" width="180" height="40" as="geometry"/>         </mxCell>         <mxCell id="step3_sub2" value="语义分割(spaCy句子边界)" style="shape=note;whiteSpace=wrap;html=1;" vertex="1" parent="1">           <mxGeometry x="300" y="540" width="180" height="40" as="geometry"/>         </mxCell>         <mxCell id="step3_sub3" value="滑动窗口(重叠20%)" style="shape=note;whiteSpace=wrap;html=1;" vertex="1" parent="1">           <mxGeometry x="300" y="600" width="180" height="40" as="geometry"/>         </mxCell>          <!-- 向量化与存储 -->         <mxCell id="step4" value="4. 向量化与存储" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">           <mxGeometry x="100" y="700" width="160" height="60" as="geometry"/>         </mxCell>         <mxCell id="step4_sub1" value="Embedding模型(Sentence-BERT)" style="shape=note;whiteSpace=wrap;html=1;" vertex="1" parent="1">           <mxGeometry x="40" y="780" width="280" height="40" as="geometry"/>         </mxCell>         <mxCell id="step4_sub2" value="向量数据库(FAISS/Chroma)" style="shape=note;whiteSpace=wrap;html=1;" vertex="1" parent="1">           <mxGeometry x="40" y="840" width="280" height="40" as="geometry"/>         </mxCell>          <!-- 检索 -->         <mxCell id="step5" value="5. 检索" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">           <mxGeometry x="100" y="940" width="160" height="60" as="geometry"/>         </mxCell>         <mxCell id="step5_sub1" value="相似度计算(余弦/ANN)" style="shape=note;whiteSpace=wrap;html=1;" vertex="1" parent="1">           <mxGeometry x="40" y="1020" width="280" height="40" as="geometry"/>         </mxCell>         <mxCell id="step5_sub2" value="重排序(Cross-Encoder)" style="shape=note;whiteSpace=wrap;html=1;" vertex="1" parent="1">           <mxGeometry x="40" y="1080" width="280" height="40" as="geometry"/>         </mxCell>          <!-- 连接线 -->         <mxCell id="conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="step1" target="step2">           <mxGeometry relative="1" as="geometry"/>         </mxCell>         <mxCell id="conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="step2" target="step3">           <mxGeometry relative="1" as="geometry"/>         </mxCell>         <mxCell id="conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="step3" target="step4">           <mxGeometry relative="1" as="geometry"/>         </mxCell>         <mxCell id="conn4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="step4" target="step5">           <mxGeometry relative="1" as="geometry"/>         </mxCell>          <!-- 分割策略连接 -->         <mxCell id="conn3_sub1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="step3" target="step3_sub1">           <mxGeometry relative="1" as="geometry"/>         </mxCell>         <mxCell id="conn3_sub2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="step3" target="step3_sub2">           <mxGeometry relative="1" as="geometry"/>         </mxCell>         <mxCell id="conn3_sub3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="step3" target="step3_sub3">           <mxGeometry relative="1" as="geometry"/>         </mxCell>       </root>     </mxGraphModel>   </diagram> </mxfile>
